---
title: Babel入门
date: 2021-09-21
tags: 

- JavaScript
- 编译原理

categories:

 - 前端
---

## 序言

Babel是一个JavaScript的编译器，可以将ES2015+的JavaScript代码编译成浏览器兼容的代码。

## 基本用法

Babel通过插件来编译代码，比如箭头函数插件等等，需要哪些编译功能就安装哪些插件。为了方便，Babel提供了一个预设置的插件集合的配置preset。这个preset配置会包含ES2015+的所有语法插件。而对于一些API功能，比如Promise、WeakMap、Array.from等等，还需要@babel/ployfill模块来做这个事情，幸运的是，preset提供了"useBuiltIns": "usage"自动帮我们包含polyfills。preset配置如下（更多的Babel配置请参考：[https://babeljs.io/docs/en/configuration](https://babeljs.io/docs/en/configuration)）

```json
{ 
  "presets": [ 
    [
        "@babel/env", 
         { 
           "targets": { 
               "edge": "17", 
               "firefox": "60", 
               "chrome": "67", 
               "safari": "11.1" 
             }，
           "useBuiltIns": "usage"
         } 
    ] 
  ] 
}
```

## 编译原理

语言由符号构成，是人与人之间传递思想意识的媒介。用户通过程序语言来和计算机交流，由于意图、抽象层次不同，产生了很多种类的语言。最接近用户的是视觉语言，最接近机器的语言是机器码0101....、汇编语言。  
**编译原理要讨论的问题，就是如何把这些语言翻译成目标语言。翻译过程的实现由编译器来完成**（就像你和我认识的世界不同，我只能以你能够认识并理解的语言来表达，才能让你明白我的思想）。

## 编译器与解释器

这两种程序的工作方式所涉及的基本原理、方法与技术是类似的。不同的是编译器预先翻译源程序，而解释器是运行时翻译源程序。
与编译器相比，解释器有以下两个优点：

- 具有较好的动态特性
- 具有较好的可移植性

但是，由于解释器把源程序的翻译和目标程序的运行过程结合在一起，因此，与编译器相比，它在运行时间和空间上的损失较大，运行效率低。

## 编译器的组成

以阶段划分编译器，包括词法分析、语法分析、语义分析、中间代码生成、中间代码优化、目标代码生成、符号表管理以及出错处理等组成部分。->>[这里有一个小型的编译器demo](https://github.com/jamiebuilds/the-super-tiny-compiler)

## 结语

值得思考的是，对于“编译”这个概念，有两种不同的解释。第一种的意思是由一种源程序翻译为另一种目标程序的过程就叫做编译；第二种意思是高级语言之间或者低级语言之间的翻译称为转换，而高级语言直接翻译为低级语言的过程才称为编译。  
概念本身和表示概念的符号都很重要，有了明确的概念和符号才能进一步的分析思考。而通常一个概念由于不同学科的语言符号不同，导致它的符号不同，或者由于为解决目标问题所需的抽象层次不同，导致概念不同。它们对于特定的情景适当地抽象而忽略一些更细节的概念也是对的，因为那些更细节的概念对于解决当前问题毫无帮助，甚至会扭曲逻辑。  
所以，一个问题所存在的背景很重要，它决定了一些概念的含义，也就是基于这些明确的概念，才能更准确有效地解决问题。