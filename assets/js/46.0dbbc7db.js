(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{458:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("TypeScript 声明文件的作用是对 js 代码提供类型检查，主要会遇到两个问题：")]),s._v(" "),t("ul",[t("li",[s._v("全局变量的类型检查问题")]),s._v(" "),t("li",[s._v("npm 包类型检查问题以及 IDE 智能提示")])]),s._v(" "),t("h2",{attrs:{id:"全局变量的类型检查问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局变量的类型检查问题"}},[s._v("#")]),s._v(" 全局变量的类型检查问题")]),s._v(" "),t("h3",{attrs:{id:"识别声明文件的方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#识别声明文件的方式"}},[s._v("#")]),s._v(" 识别声明文件的方式")]),s._v(" "),t("p",[s._v("全局变量的 .d.ts 文件在哪里创建呢？首先来看这种场景下 .d.ts 是如何被识别的。")]),s._v(" "),t("ul",[t("li",[s._v("识别方式1")])]),s._v(" "),t("p",[s._v("一般来说，ts 会解析项目中所有的 "),t("em",[s._v(".ts、")]),s._v(".tsx、.d.ts 文件（如果 allowJs 为 true 也会解析 js、jsx），假如仍然无法解析，那么可以检查 tsconfig.json 中的 files、includes 和 excludes 配置。")]),s._v(" "),t("p",[s._v("而 .d.ts 文件有两种表现形式：全局形式和局部形式。当 .d.ts 文件内容没有 import 或 export 时为全局形式，否则为局部形式。全局形式就是正常的定义全局变量类型，局部形式则会将 .d.ts 作为模块。")]),s._v(" "),t("ul",[t("li",[s._v("识别方式2")])]),s._v(" "),t("p",[s._v("可通过 tsconfig.json 的 types 字段将 node_modules 下的模块文件作为全局形式。")]),s._v(" "),t("h3",{attrs:{id:"声明文件的编写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#声明文件的编写"}},[s._v("#")]),s._v(" 声明文件的编写")]),s._v(" "),t("p",[s._v("不同使用场景下的声明文件有不同的方式编写，这里是全局形式的方式。全局变量的声明文件主要有以下几种语法：")]),s._v(" "),t("ul",[t("li",[s._v("declare var/let/const")]),s._v(" "),t("li",[s._v("declare function")]),s._v(" "),t("li",[s._v("declare class")]),s._v(" "),t("li",[s._v("declare enum")]),s._v(" "),t("li",[s._v("declare namespace (被淘汰了，建议使用 es6 module)")]),s._v(" "),t("li",[s._v("interface 和 type (项目太多这样类型，注意命名冲突)")])]),s._v(" "),t("h2",{attrs:{id:"npm-包类型检查问题以及ide智能提示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-包类型检查问题以及ide智能提示"}},[s._v("#")]),s._v(" npm 包类型检查问题以及IDE智能提示")]),s._v(" "),t("p",[s._v("npm 包模块主要有三种，umd、es6 module 和 cmj。")]),s._v(" "),t("h3",{attrs:{id:"识别声明文件的方式-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#识别声明文件的方式-2"}},[s._v("#")]),s._v(" 识别声明文件的方式")]),s._v(" "),t("p",[s._v("一般我们通过 "),t("code",[s._v("import foo from 'foo'")]),s._v(" 导入一个 npm 包，这是符合 ES6 模块规范的。")]),s._v(" "),t("p",[s._v("在我们尝试给一个 npm 包创建声明文件之前，需要先看看它的声明文件是否已经存在。一般来说，npm 包的声明文件可能存在于两个地方：")]),s._v(" "),t("ol",[t("li",[s._v("与该 npm 包绑定在一起。判断依据是 "),t("code",[s._v("package.json")]),s._v(" 中有 "),t("code",[s._v("types")]),s._v(" 字段，或者有一个 "),t("code",[s._v("index.d.ts")]),s._v(" 声明文件。")]),s._v(" "),t("li",[s._v("发布到 "),t("code",[s._v("@types")]),s._v(" 里。")])]),s._v(" "),t("p",[s._v("假如以上两种方式都没有找到对应的声明文件，那么我们就需要自己为它写声明文件了。由于是通过 "),t("code",[s._v("import")]),s._v(" 语句导入的模块，所以声明文件存放的位置也有所约束：")]),s._v(" "),t("p",[s._v("创建一个 "),t("code",[s._v("types")]),s._v(" 目录，专门用来管理自己写的声明文件，将 "),t("code",[s._v("foo")]),s._v(" 的声明文件放到 "),t("code",[s._v("types/foo/index.d.ts")]),s._v(" 中。这种方式需要配置下 "),t("code",[s._v("tsconfig.json")]),s._v(" 中的 "),t("code",[s._v("paths")]),s._v(" 和 "),t("code",[s._v("baseUrl")]),s._v(" 字段。")]),s._v(" "),t("p",[s._v("目录结构：")]),s._v(" "),t("div",{staticClass:"language-autoit line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-autoit"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("project\n├── src\n|  └── index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ts\n├── types\n|  └── foo\n|     └── index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ts\n└── tsconfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("code",[s._v("tsconfig.json")]),s._v(" 内容：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"compilerOptions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"module"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commonjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"baseUrl"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"paths"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"*"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"types/*"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"声明文件的编写-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#声明文件的编写-2"}},[s._v("#")]),s._v(" 声明文件的编写")]),s._v(" "),t("p",[s._v("npm 包的声明文件主要有以下几种语法：")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://ts.xcatliu.com/basics/declaration-files.html#export",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("export")]),t("OutboundLink")],1),s._v(" 导出变量")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://ts.xcatliu.com/basics/declaration-files.html#export-namespace",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("export namespace")]),t("OutboundLink")],1),s._v(" 导出（含有子属性的）对象")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://ts.xcatliu.com/basics/declaration-files.html#export-default",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("export default")]),t("OutboundLink")],1),s._v(" ES6 默认导出")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://ts.xcatliu.com/basics/declaration-files.html#export-1",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("export =")]),t("OutboundLink")],1),s._v(" commonjs 导出模块")])]),s._v(" "),t("p",[s._v("npm 包的声明文件与全局变量的声明文件有很大区别。在 npm 包的声明文件中，使用 "),t("code",[s._v("declare")]),s._v(" 不再会声明一个全局变量，而只会在当前文件中声明一个局部变量。只有在声明文件中使用 "),t("code",[s._v("export")]),s._v(" 导出，然后在使用方 "),t("code",[s._v("import")]),s._v(" 导入后，才会应用到这些类型声明。")]),s._v(" "),t("h3",{attrs:{id:"umd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#umd"}},[s._v("#")]),s._v(" umd")]),s._v(" "),t("p",[s._v("这种方式将 js 最终打包成一个 js 文件，可以使用 script 标签和 import 引入。这种方式也是可以选择创建一个 .d.ts文件还是多个 .d.ts 文件。但这种方式有个重要的特点是，我们需要额外声明一个全局变量，为了实现这种方式，ts 提供了一个新语法 export as namespace.")]),s._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// types/foo/index.d.ts")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("namespace")]),s._v(" foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("namespace")]),s._v(" foo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" bar"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("number")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"ide智能提示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ide智能提示"}},[s._v("#")]),s._v(" IDE智能提示")]),s._v(" "),t("p",[s._v("ts 提供代码的类型检查、编译功能，但 IDE 的智能提示功能是 IDE 提供的。其中啥原理了解一点示例就行。")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"},[s._v("注意")]),t("p",[s._v("IDE 的智能提示是可能出错的。当可以从入口知道的抛出的这些类型，则是可以找的到的。")]),s._v(" "),t("p",[s._v("但还有一些提示是需要 IDE 来处理，不同IDE有不同的处理方式。")])]),t("h2",{attrs:{id:"其它"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[s._v("#")]),s._v(" 其它")]),s._v(" "),t("ul",[t("li",[s._v("exports field of packages.json")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://webpack.js.org/guides/package-exports/",target:"_blank",rel:"noopener noreferrer"}},[s._v("exports"),t("OutboundLink")],1),s._v("字段不是 packages.json 的标准字段，而是 wepack、rollup、vite 等打包工具另外实现的字段。这个字段的作用是定义了 npm 包与外界引入方式的映射，解耦了 npm 包内部的文件夹结构与引入姿势的耦合。")]),s._v(" "),t("p",[s._v("来看一个具体的示例：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.full.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"module"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.full.mjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"es/packages/cvue/index.d.ts"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"unpkg"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.full.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"jsdelivr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.full.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"exports"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"."')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./es/packages/cvue/index.d.ts"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"import"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./es/packages/cvue/index.mjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"require"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./lib/packages/cvue/index.js"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"./es"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./es/packages/cvue/index.mjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"./lib"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./lib/packages/cvue/index.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"./es/*.mjs"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./es/packages/cvue/*.mjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"./es/*"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./es/packages/cvue/*.mjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"./lib/*.js"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./lib/packages/cvue/*.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"./lib/*"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./lib/packages/cvue/*.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"./*"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./*"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[s._v("如果都支持，打包工具会优先选择 exports 字段而不是 types字段。将 类型声明代码 按路径都导出去。\nIDE会沿着入口找到类型声明，比如：")]),s._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("CvueTestProps"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@wele/cvue'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" t"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" CvueTestProps\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("如果没按路径找到，其实IDE也会全局去找类型声明，但 import 的路径不一定是正确的，因为内部结构不一定符合IDE要求（一般是 node 查找规则的那种）。")])])}),[],!1,null,null,null);t.default=n.exports}}]);